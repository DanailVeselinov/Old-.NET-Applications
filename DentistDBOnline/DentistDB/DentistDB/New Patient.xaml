<Window x:Class="DentistDB.New_Patient"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:DentistDB"
        Name="PatientWindow"
        Title="Пациент" SizeToContent="WidthAndHeight" Height="Auto" Width="1250" Closing="Window_Closing" Loaded="Window_Loaded" ScrollViewer.CanContentScroll="True" ScrollViewer.VerticalScrollBarVisibility="Auto" Background="Aqua">
    <Window.Resources>
        <local:Client x:Key="Client"/>
        <local:ListFmStringConverter x:Key="ListFmStringConverter"/>
    </Window.Resources>
    <StackPanel>
        <StackPanel Orientation="Horizontal">
            <Button Content="Запази" Width="120" Height="25" Margin="50,10" Click="Button_Click_1"/>
            <Button Content="Изтрий" Width="120" Height="25" Margin="50,10" Click="Button_Click_2"/>
            <StackPanel x:Name="LoggedInSP"  HorizontalAlignment="Right" Orientation="Horizontal">
                <Label Content="Добре дошъл др." FontSize="25"/>
                <Label Name="LoggedInLabel" FontSize="25"/>
                <Button x:Name="LogOut" Click="LogOut_Click" Content="Logout" Height="30"/>
            </StackPanel>
        </StackPanel>
        
    <WrapPanel>
            
        <StackPanel Orientation="Horizontal">
            
            <StackPanel Orientation="Vertical">
                    <StackPanel>
                        <Image Name="ProfileImage" Height="160" Width="120" Source="{Binding ElementName=ImagesListProfile, Path=SelectedItem,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}" MouseUp="ImageTask_MouseUp"/>
                        <ListView Name="ImagesListProfile" SelectedIndex="0" Width="120" ItemsSource="{Binding Image, Mode=OneWay, Converter={StaticResource ListFmStringConverter},UpdateSourceTrigger=PropertyChanged}" HorizontalContentAlignment="Center" KeyUp="ImagesListProfile_KeyUp">
                            <ListView.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel IsItemsHost="True" Orientation="Horizontal" MaxWidth="{Binding Width,ElementName=TaksWindow,UpdateSourceTrigger=PropertyChanged}"/>
                                </ItemsPanelTemplate>
                            </ListView.ItemsPanel>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Image Width="20" Height="20" Source="{Binding Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListView>
                        </StackPanel>
                <Button Name="AddProfileImageBtn" Content="Добави изображение" Click="AddProfileImageBtn_Click"/>
            </StackPanel>
                <StackPanel Orientation="Vertical">
                    <Expander IsExpanded="True" ExpandDirection="Right" FlowDirection="LeftToRight">
                    <WrapPanel MaxWidth="270">                
                <StackPanel Orientation="Horizontal">
                <Label Content="Име:" Target="{Binding ElementName=FirstNameTB}"/>
                <TextBox Name="FirstNameTB" MinWidth="80" Text="{Binding FirstName, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Презиме:" Target="{Binding ElementName=SecondNameTB}"/>
                    <TextBox Name="SecondNameTB" MinWidth="80" Text="{Binding SecondName, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Фамилия:" Target="{Binding ElementName=LastNameTB}"/>
                    <TextBox Name="LastNameTB" MinWidth="80" Text="{Binding LastName, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Рожденна Дата:" Target="{Binding ElementName=BirthDateDTB}"/>
                    <DatePicker Name="BirthDateDTB" SelectedDate="{Binding BirthDate,UpdateSourceTrigger=LostFocus,Mode=TwoWay}"/>
                </StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Label Content="Пол:" Target="{Binding ElementName=SexCB}"/>
                        <ComboBox Name="SexCB" SelectionChanged="SexCB_SelectionChanged">
                            <ComboBoxItem Content="Мъж"/>
                            <ComboBoxItem Content="Жена"/>
                            <ComboBoxItem Content="Друго"/>
                        </ComboBox>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                    <Label Content="ID Тип:" Target="{Binding ElementName=IdTypeCB}"/>
                    <ComboBox Name="IdTypeCB" SelectionChanged="IdTypeCB_SelectionChanged">
                        <ComboBoxItem Content="ЕГН" IsSelected="True"/>
                        <ComboBoxItem Content="Паспорт"/>
                        <ComboBoxItem Content="ЛК"/>
                    </ComboBox>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Id Номер:" Target="{Binding ElementName=IDNumgerTB}"/>
                    <TextBox Name="IDNumgerTB" MinWidth="80" Text="{Binding PersonalIdNumber, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                
                    <StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Тел.:" Target="{Binding ElementName=PhoneNumTB}"/>
                    <TextBox Name="PhoneNumTB" MinWidth="80" Text="{Binding Phone1, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                <!--</StackPanel>
                <StackPanel Orientation="Horizontal">-->
                    <Label Content="Тел. 2:" Target="{Binding ElementName=PhoneNum2TB}"/>
                    <TextBox Name="PhoneNum2TB" MinWidth="80" Text="{Binding Phone2, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="E-mail:" Target="{Binding ElementName=MailTB}"/>
                    <TextBox Name="MailTB" MinWidth="80" Text="{Binding Email, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Label Content="Адрес:" Target="{Binding ElementName=AdressTB}"/>
                    <TextBox Name="AdressTB" MinWidth="150" Text="{Binding Address, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                    </StackPanel>
                    <StackPanel Orientation="Horizontal">
                    <Label Content="Клинични особености:" Target="{Binding ElementName=DisordersTB}"/>
                    <TextBox Name="DisordersTB" MinHeight="20" MinWidth="150" Text="{Binding ClinicalDisorders, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                </StackPanel>
                <!--<StackPanel Orientation="Horizontal">
                    <Label Content="Последна Актуализация:" Target="{Binding ElementName=LastUpdateTB}"/>
                    <TextBox Name="LastUpdateTB" MinWidth="80"/>
                </StackPanel>-->
                            <StackPanel Orientation="Vertical">
                                <Label Content="Бележки:"></Label>
                                <TextBox MinHeight="50" Width="270" MaxHeight="90" TextWrapping="Wrap" AcceptsReturn="True" Text="{Binding Notes, Mode=TwoWay,UpdateSourceTrigger=LostFocus}"/>
                            </StackPanel>
                        </WrapPanel>
                </Expander>
                
                </StackPanel>
            </StackPanel>
            
            <StackPanel Name="ToothPictureSP" Visibility="Hidden">
            <Label Content="Зъбна картина"/>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="15"/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition Height="10"/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <CheckBox Name="CB55" Width="15" Grid.Row="0" Grid.Column="3" Height="15" IsChecked="{Binding C55, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB54" Width="15" Grid.Row="0" Grid.Column="4" Height="15" IsChecked="{Binding C54, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB53" Width="15" Grid.Row="0" Grid.Column="5" Height="15" IsChecked="{Binding C53, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB52" Width="15" Grid.Row="0" Grid.Column="6" Height="15" IsChecked="{Binding C52, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB51" Width="15" Grid.Row="0" Grid.Column="7" Height="15" IsChecked="{Binding C51, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB61" Width="15" Grid.Row="0" Grid.Column="9" Height="15" IsChecked="{Binding C61, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB62" Width="15" Grid.Row="0" Grid.Column="10" Height="15" IsChecked="{Binding C62, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB63" Width="15" Grid.Row="0" Grid.Column="11" Height="15" IsChecked="{Binding C63, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB64" Width="15" Grid.Row="0" Grid.Column="12" Height="15" IsChecked="{Binding C64, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB65" Width="15" Grid.Row="0" Grid.Column="13" Height="15" IsChecked="{Binding C65, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>

                    <CheckBox Name="CB85" Width="15" Grid.Row="4" Grid.Column="3" Height="15" IsChecked="{Binding C85, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB84" Width="15" Grid.Row="4" Grid.Column="4" Height="15" IsChecked="{Binding C84, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB83" Width="15" Grid.Row="4" Grid.Column="5" Height="15" IsChecked="{Binding C83, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB82" Width="15" Grid.Row="4" Grid.Column="6" Height="15" IsChecked="{Binding C82, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB81" Width="15" Grid.Row="4" Grid.Column="7" Height="15" IsChecked="{Binding C81, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB71" Width="15" Grid.Row="4" Grid.Column="9" Height="15" IsChecked="{Binding C71, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB72" Width="15" Grid.Row="4" Grid.Column="10" Height="15" IsChecked="{Binding C72, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB73" Width="15" Grid.Row="4" Grid.Column="11" Height="15" IsChecked="{Binding C73, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB74" Width="15" Grid.Row="4" Grid.Column="12" Height="15" IsChecked="{Binding C74, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <CheckBox Name="CB75" Width="15" Grid.Row="4" Grid.Column="13" Height="15" IsChecked="{Binding C75, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    <StackPanel Grid.Row="1" Grid.Column="0">                        
                        <Button Name="ToothBtn18" Content="18" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB18" Width="40" Height="20" Text="{Binding C18, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="1">
                        <Button Name="ToothBtn17" Content="17"  Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB17" Width="40" Height="20" Text="{Binding C17, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="2">
                        <Button Name="ToothBtn16" Content="16" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB16" Width="40" Height="20" Text="{Binding C16, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="3">
                        <Button Name="ToothBtn15" Content="15" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB15" Width="40" Height="20" Text="{Binding C15, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="4">
                        <Button Name="ToothBtn14" Content="14" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB14" Width="40" Height="20" Text="{Binding C14, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="5">
                        <Button Name="ToothBtn13" Content="13" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB13" Width="40" Height="20" Text="{Binding C13, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="6">
                        <Button Name="ToothBtn12" Content="12" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB12" Width="40" Height="20" Text="{Binding C12, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="7">
                        <Button Name="ToothBtn11" Content="11" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB11" Width="40" Height="20" Text="{Binding C11, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="9">
                        <Button Name="ToothBtn21" Content="21" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB21" Width="40" Height="20" Text="{Binding C21, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="10">
                        <Button Name="ToothBtn22" Content="22" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB22" Width="40" Height="20" Text="{Binding C22, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="11">
                        <Button Name="ToothBtn23" Content="23" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB23" Width="40" Height="20" Text="{Binding C23, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="12">
                        <Button Name="ToothBtn24" Content="24" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB24" Width="40" Height="20" Text="{Binding C24, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="13">
                        <Button Name="ToothBtn25" Content="25" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB25" Width="40" Height="20" Text="{Binding C25, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="14">
                        <Button Name="ToothBtn26" Content="26" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB26" Width="40" Height="20" Text="{Binding C26, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="15">
                        <Button Name="ToothBtn27" Content="27" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB27" Width="40" Height="20" Text="{Binding C27, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="16">
                        <Button Name="ToothBtn28" Content="28" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB28" Width="40" Height="20" Text="{Binding C28, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>

                    <StackPanel Grid.Row="3" Grid.Column="0">
                        <Button Name="ToothBtn48" Content="48" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB48" Width="40" Height="20" Text="{Binding C48, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="1">
                        <Button Name="ToothBtn47" Content="47" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB47" Width="40" Height="20" Text="{Binding C47, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="2">
                        <Button Name="ToothBtn46" Content="46" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB46" Width="40" Height="20" Text="{Binding C46, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="3">
                        <Button Name="ToothBtn45" Content="45" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB45" Width="40" Height="20" Text="{Binding C45, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="4">
                        <Button Name="ToothBtn44" Content="44" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB44" Width="40" Height="20" Text="{Binding C44, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="5">
                        <Button Name="ToothBtn43" Content="43" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB43" Width="40" Height="20" Text="{Binding C43, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="6">
                        <Button Name="ToothBtn42" Content="42" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB42" Width="40" Height="20" Text="{Binding C42, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="7">
                        <Button Name="ToothBtn41" Content="41" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB41" Width="40" Height="20" Text="{Binding C41, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="9">
                        <Button Name="ToothBtn31" Content="31" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB31" Width="40" Height="20" Text="{Binding C31, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="10">
                        <Button Name="ToothBtn32" Content="32" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB32" Width="40" Height="20" Text="{Binding C32, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="11">
                        <Button Name="ToothBtn33" Content="33" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB33" Width="40" Height="20" Text="{Binding C33, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="12">
                        <Button Name="ToothBtn34" Content="34" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB34" Width="40" Height="20" Text="{Binding C34, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="13">
                        <Button Name="ToothBtn35" Content="35" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB35" Width="40" Height="20" Text="{Binding C35, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="14">
                        <Button Name="ToothBtn36" Content="36" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB36" Width="40" Height="20" Text="{Binding C36, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="15">
                        <Button Name="ToothBtn37" Content="37" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB37" Width="40" Height="20" Text="{Binding C37, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
                    <StackPanel Grid.Row="3" Grid.Column="16">
                        <Button Name="ToothBtn38" Content="38" Width="40" Height="40" Click="Button_Click" />
                        <TextBox Name="TB38" Width="40" Height="20" Text="{Binding C38, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" LostFocus="CBLostFocus"/>
                    </StackPanel>
            </Grid>
                <StackPanel Orientation="Horizontal">
                    <Button Content="Всички Млечни" Name="AllMilkBtn" Click="AllMilkBtn_Click" HorizontalAlignment="Left" Width="150" Margin="10,20,10,0"/>
                    <Button Content="Друга дейност" Name="OtherButton" Click="OtherButton_Click" HorizontalAlignment="Right" Width="150" Margin="10,20,10,0"/>
                </StackPanel>
                <StackPanel>
                <Label Content="Последни дейности:" Target="{Binding ElementName=SelectedToothLV}"/>
                <DataGrid Name="SelectedToothDG" ItemsSource="{Binding}" MinHeight="20" MaxHeight="80" AutoGenerateColumns="False" MouseDoubleClick="DataGrid_MouseDoubleClick" PreviewKeyDown="SelectedToothDG_PreviewKeyDown" CanUserAddRows="False" CanUserSortColumns="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Дата" Binding="{Binding Date,Mode=OneWay, StringFormat=\{0:dd.MMM.yy\}}"/>
                        <DataGridTextColumn Header="Зъб" Binding="{Binding ToothCode,Mode=OneWay}"/>
                        <DataGridTextColumn Header="Статус" Binding="{Binding Status,Mode=OneWay}" MaxWidth="100"/>
                            <DataGridTextColumn Header="Цена" Binding="{Binding Price,Mode=OneWay,StringFormat=\{0:F2\}}" MaxWidth="50"/>
                            <DataGridTextColumn Header="Техник" Binding="{Binding PriceDT,Mode=OneWay,StringFormat=\{0:F2\}}" MaxWidth="50"/>
                            <DataGridTextColumn Header="Диагноза" Binding="{Binding Diagnose,Mode=OneWay}" MaxWidth="500"/>
                        </DataGrid.Columns>
                </DataGrid>
                
            </StackPanel>
            
            
        </StackPanel>
        
    </WrapPanel>
        
        <StackPanel>
            <Label Content="Легенда" Target="{Binding ElementName=LegendLV}"/>
            <ListView Name="LegendLV" ItemsSource="{Binding}" KeyUp="LegendLV_KeyUp" MouseDoubleClick="LegendLV_MouseDoubleClick" Margin="0,0,0.333,0">
                <ListView.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel IsItemsHost="True" Orientation="Horizontal" MaxWidth="{Binding Width,ElementName=PatientWindow,UpdateSourceTrigger=PropertyChanged}"/>
                    </ItemsPanelTemplate>
                </ListView.ItemsPanel>
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Width="20" Height="20" Background="{Binding StatusColourCode}" Text="{Binding StatusCode}"/>
                            <TextBlock Text="{Binding StatusDescription}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
            <Button Content="Добави Статус" Click="Button_Click_3"/>
        </StackPanel>
    </StackPanel>
</Window>
